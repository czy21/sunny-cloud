["clean","build"].forEach {t->
    tasks.register("${t}") {
        rootDir.eachDir {
            if (file("${it.name}/settings.gradle").exists() && file("${it.name}/${it.name}-portal").exists()) {
                dependsOn gradle.includedBuild("${it.name}").task(":${it.name}-portal:${t}")
            }
        }
        dependsOn gradle.includedBuild("sunny-gateway").task(":${t}")
    }
}
